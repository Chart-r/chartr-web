<h1 class="display-4">Sign Up</h1>
<app-ui-message *ngIf="error" [className]="'error'">
    <p class="title">Error signing up!</p>
    <p class="desc">{{ error }}</p>
</app-ui-message>
<app-ui-message *ngIf="success" [className]="'success'">
    <p class="desc">Successfully signed up.</p>
</app-ui-message>
<p>All fields are required. The submit button will be enabled when all fields are completed correctly.</p>
<form #signUpForm="ngForm" (ngSubmit)="onSubmit(signUpForm)">
    <div class="form-group">
        <label class="caption" for="emailInput">Email</label>
        <input type="email" class="form-control" id="emailInput" 
            [(ngModel)]="user.email" name="email"
            required email>
    </div>
    <div class="form-group">
        <label class="caption" for="nameInput">Full Name</label>
        <input type="text" class="form-control" id="nameInput" 
            [(ngModel)]="user.name" name="name"
            required>
    </div>
    <div class="form-group">
        <label class="caption" for="phoneInput">Phone Number</label>
        <input type="tel" class="form-control" id="phoneInput" 
            [(ngModel)]="user.phone" name="phone"
            required pattern="^\+1[0-9]{10}$">
        <app-ui-message [className]="'info smaller'">
            <p class="desc">
                Phone number must be in the form +19999999999.
            </p>
        </app-ui-message>
    </div>
    <div class="form-group">
        <label class="caption" for="birthdateInput">Birthdate</label>
        <input type="text" class="form-control" id="birthdateInput" 
            [(ngModel)]="user.birthdate" name="birthdate"
            required pattern="^[0-9]{4}-[0-9]{2}-[0-9]{2}$">
        <app-ui-message [className]="'info smaller'">
            <p class="desc">
                Birthdate must be in the form YYYY-MM-DD.
            </p>
        </app-ui-message>
    </div>
    <div class="form-group">
        <label class="caption" for="passwordInput">Password</label>
        <input type="password" class="form-control" id="passwordInput" 
            [(ngModel)]="password" name="password"
            required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&]{8,}">
        <app-ui-message [className]="'info smaller'">
            <p class="desc">
                Password must be at least 8 characters and contain a number, a special character, a lowercase letter, and an uppercase letter.
            </p>
        </app-ui-message>
    </div>
    <button [disabled]="submitting || !signUpForm.form.valid" type="submit" class="btn btn-primary">Submit</button>
    <a class="btn ghost" routerLink="/">Cancel</a>
</form>