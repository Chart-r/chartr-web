<h1 class="display-4">Sign Up</h1>
<div *ngIf="error" class="alert alert-danger" role="alert">
    {{ error }}
</div>
<div *ngIf="success" class="alert alert-success" role="alert">
    Successfully signed up.
</div>
<p>All fields are required. The submit button will be enabled when all fields are completed correctly.</p>
<form #signUpForm="ngForm" (ngSubmit)="onSubmit(signUpForm)">
    <div class="form-group">
        <label for="emailInput">Email</label>
        <input type="email" class="form-control" id="emailInput" 
            [(ngModel)]="user.email" name="email"
            required email>
    </div>
    <div class="form-group">
        <label for="nameInput">Full Name</label>
        <input type="text" class="form-control" id="nameInput" 
            [(ngModel)]="user.name" name="name"
            required>
    </div>
    <div class="form-group">
        <label for="phoneInput">Phone Number</label>
        <input type="tel" class="form-control" id="phoneInput" 
            [(ngModel)]="user.phone" name="phone"
            required pattern="^\+1[0-9]{10}$">
        <small class="form-text text-muted">
            Phone number must be in the form +19999999999.
        </small>
    </div>
    <div class="form-group">
        <label for="birthdateInput">Birthdate</label>
        <input type="text" class="form-control" id="birthdateInput" 
            [(ngModel)]="user.birthdate" name="birthdate"
            required pattern="^[0-9]{4}-[0-9]{2}-[0-9]{2}$">
        <small class="form-text text-muted">
            Birthdate must be in the form YYYY-MM-DD.
        </small>
    </div>
    <div class="form-group">
        <label for="passwordInput">Password</label>
        <input type="password" class="form-control" id="passwordInput" 
            [(ngModel)]="password" name="password"
            required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&]{8,}">
        <small class="form-text text-muted">
            Password must be at least 8 characters and contain a number, a special character, a lowercase letter, and an uppercase letter.
        </small>
    </div>
    <button [disabled]="submitting || !signUpForm.form.valid" type="submit" class="btn btn-primary">Submit</button>
    <a class="btn btn-secondary" routerLink="/">Cancel</a>
</form>